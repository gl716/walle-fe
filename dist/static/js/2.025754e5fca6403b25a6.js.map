{"version":3,"sources":["webpack:///./src/services/group.service.js","webpack:///src/views/user/src/group/user.list.vue","webpack:///./src/views/user/src/group/user.list.vue?213b","webpack:///./src/views/user/src/group/user.list.vue","webpack:///src/views/user/src/group/select.user.vue","webpack:///./src/views/user/src/group/select.user.vue?9b6e","webpack:///./src/views/user/src/group/select.user.vue","webpack:///src/views/user/src/group/group.edit.vue","webpack:///./src/views/user/src/group/group.edit.vue?acc0","webpack:///./src/views/user/src/group/group.edit.vue"],"names":["params","arguments","length","undefined","Object","__WEBPACK_IMPORTED_MODULE_0__bases_http_base__","isRemoveField","target","id","get","headers","content-type","transformRequest","data","__WEBPACK_IMPORTED_MODULE_1_qs___default","a","stringify","put","Delete","group","array","subGroupLength","index","newArray","push","slice","user_list","props","value","Array","this","defaultIcon","watch","val","methods","deleteUser","user","row","col","splice","$emit","group_user_list","render","_vm","_h","$createElement","_c","_self","staticClass","_l","i","key","attrs","gutter","span","src","avatar","_v","_s","username","on","click","staticRenderFns","src_group_user_list","__webpack_require__","normalizeComponent","ssrContext","select_user","groupUserList","type","default","keyword","computed","userIds","map","handleSelect","args","querySearchAsync","queryString","cb","_this","asyncToGenerator_default","regenerator_default","mark","_callee","_ref","list","wrap","_context","prev","next","user_service","kw","sent","filter","indexOf","stop","resultlight","qry","iQuery","RegExp","toString","replace","matchedTxt","group_select_user","size","popper-class","fetch-suggestions","placeholder","select","scopedSlots","_u","fn","ref","item","domProps","innerHTML","model","callback","$$v","expression","slot","src_group_select_user","select_user_normalizeComponent","group_edit","components","UserList","SelectUser","String","created","getGroupInfo","isNew","name","search","breadcrumbData","to","_ref$data","group_name","user_info","group_service","handleFilterSelect","requestForm","user_ids","join","submit","_this2","_callee2","_context2","$message","error","abrupt","console","log","message","$router","group_group_edit","inline","nativeOn","$event","preventDefault","label","group_edit_Component","group_edit_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.025754e5fca6403b25a6.js","sourcesContent":["import {get, post, put, Delete} from '@/bases/http.base'\nimport qs from 'qs'\n\n/**\n *\n * 获取用户组列表\n * @export\n * @param {any} [params={}]\n * @returns Promise\n */\nexport function getGroups (params = {}) {\n  return get('group/', params, {\n    isRemoveField: true,\n    target: '.wl-table'\n  })\n}\n\n/**\n *\n * 获取用户组\n * @export\n * @param {any} [params={}]\n * @returns Promise\n */\nexport function getGroup (id, params = {}) {\n  return get(`group/${id}`, params)\n}\n\n/**\n *\n * 新增用户组\n * @export\n * @param {any} [params={}]\n * @returns Promise\n */\nexport function addGroup (params = {}) {\n  return post('group/', params, {\n    headers: {\n      'content-type': 'multipart/form-data'\n    },\n    transformRequest: [function (data) {\n      return qs.stringify(data)\n    }]\n  })\n}\n\n/**\n *\n * 更新用户组\n * @export\n * @param {any} [params={}]\n * @returns Promise\n */\nexport function updateGroup (id, params = {}) {\n  return put(`group/${id}`, params, {\n    headers: {\n      'content-type': 'multipart/form-data'\n    },\n    transformRequest: [function (data) {\n      return qs.stringify(data)\n    }]\n  })\n}\n\n/**\n *\n * 删除用户组\n * @export\n * @param {any} [params={}]\n * @returns Promise\n */\nexport function deleteUser (id, params = {}) {\n  return Delete(`group/${id}`, params)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/group.service.js","<template>\n    <div class=\"wl-group-users\">\n        <el-row :gutter=\"20\" v-for=\"(row, i) in data\" :key=\"i\">\n            <el-col :span=\"6\" v-for=\"(user, col) in row\" :key=\"'user_' + user.id\">\n                <span class=\"item\">\n                    <img class=\"icon\" :src=\"user.avatar || defaultIcon\"/>\n                    <span class=\"wl-group-users__name\">{{user.username}}</span>\n                    <i class=\"wl-icon-delete close\" @click=\"()=>{deleteUser(user, i, col)}\"></i>\n                </span>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nconst defaultIcon = 'https://gw.alipayobjects.com/zos/rmsportal/eHBsAsOrrJcnvFlnzNTT.png'\nconst group = function (array, subGroupLength) {\n  let index = 0\n  let newArray = []\n  while (index < array.length) {\n    newArray.push(array.slice(index, index += subGroupLength))\n  }\n\n  return newArray\n}\n\nexport default {\n  props: {\n    value: Array\n  },\n  data () {\n    return {\n      data: group(this.value, 4),\n      defaultIcon: defaultIcon\n    }\n  },\n  watch: {\n    value (val) {\n      this.data = group(val, 4)\n    }\n  },\n  methods: {\n    deleteUser (user, row, col) {\n      this.value.splice((row * 4 + col), 1)\n      this.$emit('input', this.value)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import 'scss';\n\n@include b(group-users) {\n    @include e(user) {\n        margin-right: 20px;\n        margin-top: 20px;\n    }\n\n    @include e(name) {\n        @include text-overflow-1;\n\n        font-size: 14px;\n    }\n\n    .el-row {\n        margin-bottom: 20px;\n    }\n\n    .icon {\n        width: 36px;\n        height: 36px;\n        border-radius: 36px;\n        padding-right: 12px;\n    }\n\n    .item {\n        display: flex;\n        align-items: center;\n        position: relative;\n        cursor: pointer;\n        height: 44px;\n        padding: 3px 0 3px 5px;\n        box-sizing: border-box;\n\n        &:hover {\n            border: 1px dashed #eee;\n\n            .close {\n                display: block;\n            }\n        }\n    }\n\n    .close {\n        position: absolute;\n        top: -7px;\n        right: -7px;\n        color: #F56C6C;\n        display: none;\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/src/group/user.list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wl-group-users\"},_vm._l((_vm.data),function(row,i){return _c('el-row',{key:i,attrs:{\"gutter\":20}},_vm._l((row),function(user,col){return _c('el-col',{key:'user_' + user.id,attrs:{\"span\":6}},[_c('span',{staticClass:\"item\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":user.avatar || _vm.defaultIcon}}),_vm._v(\" \"),_c('span',{staticClass:\"wl-group-users__name\"},[_vm._v(_vm._s(user.username))]),_vm._v(\" \"),_c('i',{staticClass:\"wl-icon-delete close\",on:{\"click\":function (){_vm.deleteUser(user, i, col)}}})])])}))}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f757b994\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/src/group/user.list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f757b994\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user.list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user.list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user.list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f757b994\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user.list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/src/group/user.list.vue\n// module id = null\n// module chunks = ","<template>\n   <div class=\"wl-search\">\n    <el-autocomplete\n      size=\"small\"\n      v-model=\"keyword\"\n      popper-class=\"wl-search__input\"\n      :fetch-suggestions=\"querySearchAsync\"\n      placeholder=\"请输入用户名\"\n      @select=\"handleSelect\">\n      <template slot-scope=\"{ item }\">\n        <span v-html=\"resultlight(item.username, keyword)\"></span>\n      </template>\n      <template slot=\"suffix\">\n        <i class=\"el-icon-search\"></i>\n      </template>\n    </el-autocomplete>\n   </div>\n</template>\n<script>\nimport {getUsers} from '@/services/user.service'\nexport default {\n  props: {\n    groupUserList: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data () {\n    return {\n      keyword: ''\n    }\n  },\n  computed: {\n    userIds () {\n      return this.groupUserList.map(user => user.id)\n    }\n  },\n  methods: {\n    handleSelect (args) {\n      this.keyword = ''\n      this.$emit('select', args)\n    },\n    async querySearchAsync (queryString, cb) {\n      let {data: {list}} = await getUsers({\n        kw: queryString\n      })\n      cb(list.filter(user => {\n        return this.userIds.indexOf(user.id) === -1\n      }))\n    },\n    resultlight (value, qry) {\n      if (!value) {\n        return ''\n      }\n      if (!qry) {\n        return value\n      }\n      const iQuery = new RegExp(qry, 'ig')\n      return value.toString().replace(iQuery, function (matchedTxt) {\n        return ('<span class=\\'highlight\\'>' + matchedTxt + '</span>')\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n@import 'scss';\n\n@include b(search) {\n  @include e(input) {\n    .highlight {\n        color: $primary;\n    }\n  }\n\n  .el-input__suffix-inner {\n    position: absolute;\n    top: 9px;\n    left: -14px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/src/group/select.user.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wl-search\"},[_c('el-autocomplete',{attrs:{\"size\":\"small\",\"popper-class\":\"wl-search__input\",\"fetch-suggestions\":_vm.querySearchAsync,\"placeholder\":\"请输入用户名\"},on:{\"select\":_vm.handleSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.resultlight(item.username, _vm.keyword))}})]}}]),model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}},[_c('template',{slot:\"suffix\"},[_c('i',{staticClass:\"el-icon-search\"})])],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ead591c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/src/group/select.user.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ead591c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./select.user.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./select.user.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./select.user.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ead591c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./select.user.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/src/group/select.user.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"wl-group-edit\">\n        <wl-breadcrumb :data=\"breadcrumbData\"></wl-breadcrumb>\n        <el-form :inline=\"true\" class=\"wl-group-edit__header\" @submit.native.prevent>\n             <el-form-item label=\"用户组\">\n                <el-input\n                placeholder=\"请输入用户组名称\"\n                size=\"small\"\n                v-model=\"name\"/>\n            </el-form-item>\n            <select-user @select=\"handleFilterSelect\" :groupUserList=\"groupUserList\"></select-user>\n        </el-form>\n        <div class=\"wl-group-edit__list\">\n            <div class=\"wl-group-edit__placeholder\" v-if=\"groupUserList.length===0\">请添加用户</div>\n            <user-list v-else v-model=\"groupUserList\" ></user-list>\n        </div>\n        <el-form :inline=\"true\" class=\"submit-form\">\n            <el-form-item>\n               <el-button type=\"primary\" size=\"small\" @click=\"submit\">submit</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport UserList from './user.list.vue'\nimport SelectUser from './select.user.vue'\nimport {getGroup, addGroup, updateGroup} from '@/services/group.service'\nexport default {\n  components: {UserList, SelectUser},\n  props: {\n    id: String\n  },\n  created () {\n    if (this.id) {\n      this.getGroupInfo()\n    }\n  },\n  computed: {\n    isNew () {\n      return this.id === undefined\n    }\n  },\n  data () {\n    return {\n      name: '',\n      groupUserList: [],\n      search: '',\n      breadcrumbData: [\n        {\n          to: '/user/groups',\n          name: '用户组'\n        },\n        {\n          to: '',\n          name: this.id ? '编辑' : '创建'\n        }\n      ]\n    }\n  },\n  methods: {\n    async getGroupInfo () {\n      let {data:{group_name, user_info}} = await getGroup(this.id) // eslint-disable-line\n      this.name = group_name // eslint-disable-line\n      this.groupUserList = user_info // eslint-disable-line\n    },\n    handleFilterSelect (user) {\n      this.groupUserList.push(user)\n    },\n    requestForm () {\n      return {\n        group_name: this.name,\n        // uid_roles: JSON.stringify(this.groupUserList.map(user => { return {user_id: user.id, role: 'developer'} }))\n        user_ids: this.groupUserList.map(user => user.id).join(',')\n      }\n    },\n    async submit () {\n      if (!this.name) {\n        this.$message.error('请输入用户组名称')\n        return null\n      }\n      if (this.groupUserList.length === 0) {\n        this.$message.error('请添加用户')\n        return null\n      }\n      console.log(this.requestForm())\n      if (this.isNew) {\n        await addGroup(this.requestForm())\n      } else {\n        await updateGroup(this.id, this.requestForm())\n      }\n      this.$message({\n        type: 'success',\n        message: this.isNew ? '添加成功' : '修改成功'\n      })\n      this.$router.push('/user/groups')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import 'scss';\n\n@include b(group-edit) {\n   margin: 20px;\n   box-sizing: border-box;\n   background: #fff;\n   min-height: calc(100% - 40px);\n   padding: 10px;\n   display: flex;\n   flex-direction: column;\n\n   .el-input {\n     width: 300px;\n   }\n\n   .el-table {\n      margin-top: 0 !important;\n      margin-bottom: 20px;\n   }\n\n   .submit-form {\n       text-align: right;\n   }\n\n   .el-form--inline .el-form-item {\n       margin-right: 0;\n   }\n\n   @include e(header) {\n      display: flex;\n      justify-content: space-between;\n   }\n\n   @include e(list) {\n       flex-grow: 1;\n   }\n\n   @include e(placeholder) {\n       text-align: center;\n       font-size: 24px;\n       margin-top: 100px;\n       color: #eee;\n   }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/src/group/group.edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wl-group-edit\"},[_c('wl-breadcrumb',{attrs:{\"data\":_vm.breadcrumbData}}),_vm._v(\" \"),_c('el-form',{staticClass:\"wl-group-edit__header\",attrs:{\"inline\":true},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"用户组\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户组名称\",\"size\":\"small\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('select-user',{attrs:{\"groupUserList\":_vm.groupUserList},on:{\"select\":_vm.handleFilterSelect}})],1),_vm._v(\" \"),_c('div',{staticClass:\"wl-group-edit__list\"},[(_vm.groupUserList.length===0)?_c('div',{staticClass:\"wl-group-edit__placeholder\"},[_vm._v(\"请添加用户\")]):_c('user-list',{model:{value:(_vm.groupUserList),callback:function ($$v) {_vm.groupUserList=$$v},expression:\"groupUserList\"}})],1),_vm._v(\" \"),_c('el-form',{staticClass:\"submit-form\",attrs:{\"inline\":true}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submit}},[_vm._v(\"submit\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0dbd2abe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/src/group/group.edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0dbd2abe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./group.edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./group.edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./group.edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0dbd2abe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./group.edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/src/group/group.edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}